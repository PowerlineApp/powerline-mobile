<div class="popup-overflow">
  <div class="popup padding-10" style="min-height: 200px;">
    <p class="btn-close" ng-click="cancel()"></p>

    <form class="cardForm" name="cardForm" ng-show="!loading">
      <fieldset class="margin-v-20">
        <div class="list account-type">
          <label class="item item-input item-select">
            <div class="input-label">
              Account Type:
            </div>
            <select ng-model="data.powerline.type" ng-init="data.powerline.type='company'">
              <option value="company">Company</option>
              <option value="individual">Individual</option>
            </select>
          </label>
        </div >
        <div class="item-floating-label text-field-1" ng-if="data.powerline.type!='individual'">
          <span class="input-label">Business Name</span>
          <input type="text" name="account_holder_name" ng-model="data.stripe.account_holder_name">
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">First Name</span>
          <input type="text" name="first_name" ng-model="data.powerline.first_name">
        </div>     
        <div class="item-floating-label text-field-1">
          <span class="input-label">Last Name</span>
          <input type="text" name="last_name" ng-model="data.powerline.last_name">
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">Date of Birth</span>
          <input type="date" name="dob" ng-model="data.powerline.dob">
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">Address Line 1</span>
          <input type="text" name="address_line1" ng-model="data.powerline.address_line1">
        </div> 
        <div class="item-floating-label text-field-1">
          <span class="input-label">Address Line 2</span>
          <input type="text" name="address_line2" ng-model="data.powerline.address_line2">
        </div> 
        <div class="item-floating-label text-field-1">
          <span class="input-label">City</span>
          <input type="text" name="city" ng-model="data.powerline.city">
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">State</span>
          <input type="text" name="state" ng-model="data.powerline.state">
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">Postal Code</span>
          <input type="text" name="postal_code" ng-model="data.powerline.postal_code">
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">Country</span>
          <select 
            ng-model="data.stripe.country"
            ng-options="item as item.name for item in countries"
            ng-change="onCountryChange()">
          </select>
        </div>
        <div class="item-floating-label text-field-1">
          <span class="input-label">Currency</span>
          <select 
            ng-model="data.stripe.currency"
            ng-options="item as item for item in data.stripe.country.currencies">
          </select>
        </div>        
        <div class="item-floating-label text-field-1" ng-if="data.powerline.type!='individual'">
          <span class="input-label">Tax ID</span>
          <input type="text" name="tax_id" ng-model="data.powerline.tax_id">
        </div>
        <div class="item-floating-label text-field-1" ng-show="requireSSN()">
          <!--<span class="input-label">Last 4 digits of SSN/EIN</span>-->
          <span class="input-label">Last 4 digits of SSN</span>
          <input type="text" name="ssn_last_4" ng-model="data.powerline.ssn_last_4">
        </div>
        <div class="item-floating-label text-field-1" ng-class="{invalid: errorRNumber}">
          <span class="input-label">Routing Number</span>
          <input type="text" name="routing_number" ng-model="data.stripe.routing_number">
        </div>
        <div class="item-floating-label text-field-1" ng-class="{invalid: errorRNumber}">
          <span class="input-label">Confirm Routing Number</span>
          <input type="text" name="routing_number" ng-model="data.stripe.routing_number1">
        </div>
        <div class="item-floating-label text-field-1" ng-class="{invalid: errorANumber}">
          <span class="input-label">Account Number</span>
          <input type="text" name="account_number" ng-model="data.stripe.account_number">
        </div>
        <div class="item-floating-label text-field-1" ng-class="{invalid: errorANumber}">
          <span class="input-label">Confirm Account Number</span>
          <input type="text" name="account_number" ng-model="data.stripe.account_number1">
        </div>
        <div class="agreement">
          By registering your account, you agree to our 
          <a href="https://powerli.ne/#/legal" target="_system" class="link">Terms of Service</a>
          and the 
          <a href="https://stripe.com/ca/connect-account/legal" target="_system" class="link">Stripe Connected Account Agreement.</a>
        </div>
      </fieldset>

      <div class="margin-v-10">
        <button class="btn-large btn-primary"  ng-click="submit()">Save & Submit</button>
      </div>
    </form>

  </div>

</div>